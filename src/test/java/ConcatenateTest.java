import com.plotnikowski.bibparser.BibDocument;
import com.plotnikowski.bibparser.BibParser;
import com.plotnikowski.bibparser.BibPrinter;
import com.plotnikowski.bibparser.BibWholeDocumentPrinter;
import org.junit.Test;

import java.io.File;

import static org.junit.Assert.*;

public class ConcatenateTest {
    @Test
    public void concatenateTest(){
        File file = new File("concatenateTest.bib");
        BibDocument expectedDocument = BibParser.parse(file);

        String realResult = "" +
                "--------------------------------------------------------------------\n" +
                "# ARTICLE                                                          #\n" +
                "--------------------------------------------------------------------\n" +
                "# article-full                                                     #\n" +
                "--------------------------------------------------------------------\n" +
                "# author                                                           #\n" +
                "#               - {L[eslie] A. Aamport}                            #\n" +
                "--------------------------------------------------------------------\n" +
                "# title        # {The Gnats and Gnus Document Preparation System}  #\n" +
                "--------------------------------------------------------------------\n" +
                "# journal      # mbox G-Animal's Journal                           #\n" +
                "--------------------------------------------------------------------\n" +
                "# year         # 1986                                              #\n" +
                "--------------------------------------------------------------------\n" +
                "# volume       # 41                                                #\n" +
                "--------------------------------------------------------------------\n" +
                "# number       # 7                                                 #\n" +
                "--------------------------------------------------------------------\n" +
                "# pages        # 73+                                               #\n" +
                "--------------------------------------------------------------------\n" +
                "# month        # jul                                               #\n" +
                "--------------------------------------------------------------------\n" +
                "# note         # This is a full ARTICLE entry                      #\n" +
                "--------------------------------------------------------------------\n" +
                "--------------------------------------------------------------------\n" +
                "# INBOOK                                                           #\n" +
                "--------------------------------------------------------------------\n" +
                "# inbook-full                                                      #\n" +
                "--------------------------------------------------------------------\n" +
                "# author                                                           #\n" +
                "#               - Donald E. Knuth                                  #\n" +
                "--------------------------------------------------------------------\n" +
                "# title        # Fundamental Algorithms                            #\n" +
                "--------------------------------------------------------------------\n" +
                "# volume       # 1                                                 #\n" +
                "--------------------------------------------------------------------\n" +
                "# series       # The Art of Computer Programming                   #\n" +
                "--------------------------------------------------------------------\n" +
                "# publisher    # Addison-Wesley                                    #\n" +
                "--------------------------------------------------------------------\n" +
                "# address      # Reading Massachusetts                             #\n" +
                "--------------------------------------------------------------------\n" +
                "# edition      # Second                                            #\n" +
                "--------------------------------------------------------------------\n" +
                "# month        # 10 jan                                            #\n" +
                "--------------------------------------------------------------------\n" +
                "# year         # {\\noopsort{1973b}}1973                            #\n" +
                "--------------------------------------------------------------------\n" +
                "# type         # Section                                           #\n" +
                "--------------------------------------------------------------------\n" +
                "# chapter      # 1.2                                               #\n" +
                "--------------------------------------------------------------------\n" +
                "# pages        # 10 119 january                                    #\n" +
                "--------------------------------------------------------------------\n" +
                "# note         # This is a full INBOOK entry                       #\n" +
                "--------------------------------------------------------------------\n";

        BibPrinter wholePrinter = new BibPrinter(new BibWholeDocumentPrinter(), expectedDocument);
        String result = wholePrinter.print();

        assertEquals(result, realResult);

    }
}
